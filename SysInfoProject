#!/bin/bash

# file SysInfoProject
# brief  The first script to gather system info with commenting for the file and functions 
# author brandon.boras
# date 10/20/2020

    #functions

# basic info including the distro,kernel version and CPU architecture
BasicInfo()
{
	printf "_____1. Basic Info_____\n"
	lsb_release -d
	printf "Kernel: "
    uname -r
	printf "CPU Architecture: "
	uname -m
}

# finds all the info related to memory
MemoryInfo()
{
	printf "\n\n_____2. Memory_____\n"
	free -ht
}

# displays disk information,lists disk devices,free space on partitions
DiskInfo()
{
	printf "\n\n_____3. Disks_____\n"
	lsblk
}

# checks if shell is interactive, then prompt to include groups
IncludeGroupsCheck()
{
	printf "\n\n_____4. Interactive user groups_____\n"
	if [ -z "$PS1" ]; then
		read -p "Should I print your user groups too? (Y/N): "  userReply
		if [[  $userReply =~ ^[Yy]$ ]]; then
			printf "\n Would print groups here"
		else
			printf "Noted, will not print groups"
		fi
	else
		printf "This was not detected as an interactive shell, so I cannot print groups\n"
	fi
}

		# main program begins here

if [ "$EUID" -ne 0 ]; then
	echo "Must Run as Root"
else
    # Here script
	cat <<- _EOF_

	$(BasicInfo)
	$(MemoryInfo)
	$(DiskInfo)
	$(IncludeGroupsCheck)

	_EOF_
fi
exit 0
